# JPA

JPA(Java Persistence API)는 자바 진영의 ORM 기술에 대한 API 표준 명세이다. 
그래서 JPA는 구현체가 아닌 인터페이스의 모음이며, ORM 프레임워크가 만족해야하는 기술명세를 정의한 것이다.


## ORM이란?

ORM(Object-Relational Mapping)은 객체과 관계형 데이터베이스를 매핑하는 기술로, 객체와 테이블을 매핑해서 패러다임의 불일치를 개발자 대신 해결한다.
예로, 객체를 컬렉션 저장하듯 ORM 프레임워크에 저장하면 알아서 INSERT SQL을 생성해서 데이터베이스에 저장한다.

개발시에 객체는 객체대로 모델링에 집중하고, 관계형 데이터베이스는 데이터베이스대로 모델링해서 어떻게 매핑하는지만 ORM 프레임워크에 알려주면 된다.
그래서 개발자는 데이터 중심인 데이터베이스에 종속되지 않고 객체지향 애플리케이션 개발에 집중할 수 있다.
여러 ORM 프레임워크가 있지만, 자바 진영에선 하이버네이트를 가장 많이 사용한다.

하이버네이트 이전에 EJB에 엔티티 빈이라는 ORM 기술이 존재했지만, J2EE 서버에서만 동작하고 사용하기 까다로웠다.
그래서 당시 만들어진 하이버네이트라는 오픈소스 ORM 프레임워크를 기반으로 EJB 3.0 버전에서 새로운 자바 ORM 기술 표준이 만들어졌는데, 이것이 JPA이다.

<br/>

## JPA를 사용해야하는 이유

* 생산성

SQL을 작성하고 JDBC API를 사용하는 반복적인 일을 대신 처리해준다. JPA는 DLL문도 자동으로 생성해주는데,
이런 기능들을 사용하면 데이터베이스 설게 중심에서 객체 설계 중심으로 개발할 수 있다.

* 유지보수

SQL을 직접다루면 엔티티에 필드를 하나만 추가해도 등록, 수정, 조회 SQL 결과를 매핑하기 위해 JDBC API 코드를 수정해야한다.
하지만 JPA는 그것을 대신 처리해주기 때문에 유지보수 해야할 코드 수가 줄어든다. 그리고 패러다임 불일치 문제를 해결해주어 객체 지향언어의 장점을
마음껏 활용할 수 있기 때문에 유지보수하기 좋은 도메인 모델을 설계할 수 있다.

* 패러다임의 불일치 해결

JPA는 상속, 연관관계, 객체 그래프 탐색, 비교하기와 같은 패러다임 불일치 문제를 해결해준다.

* 성능

JPA는 애플리케이션과 데이터베이스 사이에서 동작하기때문에 최적화 관점에서 시도해 볼 수 있는 것들이 많다.
예를 들어, 트랜잭션 안에서 회원 조회를 2번하면 JDBC API는 직접 DB를 갔다왔겠지만 JPA는 한번만 DB에서 조회하고 두 번째는 조회한 회원 객체를 재사용한다.

* 데이터 접근 추상화와 벤더 독립성

RDB는 같은 기능도 벤더마다 사용법이 다른 경우가 많지만, JPA는 애플리케이션과 DB 사이에 추상화된 데이터 접근 계층을 제공해서 애플리케이션이 특정 DB 기술에 종속되지 않도록 해준다.
만약 DB를 변경하면 JPA에게 다른 DB를 사용한다고 알려주기만 하면 된다.

* 표준

JPA는 자바 진영의 ORM 기술 표준이기 때문에 다른 구현 기술로 손쉽게 변경할 수 있다.


